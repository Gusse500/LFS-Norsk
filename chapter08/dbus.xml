<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-dbus" role="wrap" revision="systemd">
  <?dbhtml filename="dbus.html"?>

  <sect1info condition="script">
    <productname>dbus</productname>
    <productnumber>&dbus-version;</productnumber>
    <address>&dbus-url;</address>
  </sect1info>

  <title>D-Bus-&dbus-version;</title>

  <indexterm zone="ch-system-dbus">
    <primary sortas="a-dbus">D-Bus</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>D-Bus er et meldingsbusssystem, en enkel måte for applikasjoner å snakke til
    hverandre. D-Bus leverer både en systemnisse (system daemon) (for hendelser som f.eks
    "ny maskinvareenhet lagt til" eller "skriverkø endret") og en
    per brukerpåloggingsøkt nisse (for generelle IPC behov blant brukerens
    applikasjoner). Dessuten er meldingsbussen bygget på toppen av et generelt en-til-en
    rammeverk for meldingsoverføring, som kan brukes av to applikasjoner til å
    kommunisere direkte (uten å gå gjennom meldingsbussnissen).</para>

    <segmentedlist>
      <segtitle>&buildtime;</segtitle>
      <segtitle>&diskspace;</segtitle>

      <seglistitem>
        <seg>&dbus-fin-sbu;</seg>
        <seg>&dbus-fin-du;</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installasjon av D-Bus</title>

    <para>Forbered D-Bus for kompilering:</para>

<screen><userinput remap="configure">./configure --prefix=/usr                        \
            --sysconfdir=/etc                    \
            --localstatedir=/var                 \
            --runstatedir=/run                   \
            --disable-static                     \
            --disable-doxygen-docs               \
            --disable-xml-docs                   \
            --docdir=/usr/share/doc/dbus-&dbus-version; \
            --with-system-socket=/run/dbus/system_bus_socket</userinput></screen>

    <variablelist>
      <title>Betydningen av konfigureringsalternativene:</title>

      <varlistentry>
        <term>
          <parameter>--runstatedir=/run</parameter> and
          <parameter>--with-system-socket=/run/dbus/system_bus_socket</parameter>
        </term>
        <listitem>
          <para>Disse angir plasseringen av PID filen og systembusskontakten
          til å være i <filename class="directory">/run</filename>, i stedet for
          utdaterte <filename class="directory">/var/run</filename>.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>Kompiler pakken:</para>

<screen><userinput remap="make">make</userinput></screen>

    <para>Denne pakken kommer med en testpakke, men den krever flere
    pakker som ikke er inkludert i LFS. Instruksjoner for å kjøre
    testpakken finner du i BLFS-boken på
    <ulink url="&blfs-book;general/dbus.html"/>.</para>

    <para>Installer pakken:</para>

<screen><userinput remap="install">make install</userinput></screen>

    <para>Lag en symbolkobling slik at D-Bus og systemd kan bruke den sam
    <filename>machine-id</filename> filen:</para>

<screen><userinput remap="install">ln -sfv /etc/machine-id /var/lib/dbus</userinput></screen>

  </sect2>

  <sect2 id="contents-dbus" role="content">
    <title>Innhold i D-Bus</title>

    <segmentedlist>
      <segtitle>Installerte programmer</segtitle>
      <segtitle>Installerte biblioteker</segtitle>
      <segtitle>Installerte mapper</segtitle>

      <seglistitem>
        <seg>dbus-cleanup-sockets, dbus-daemon, dbus-launch, dbus-monitor,
        dbus-run-session, dbus-send, dbus-test-tool,
        dbus-update-activation-environment, og dbus-uuidgen</seg>
        <seg>libdbus-1.{a,so}</seg>
        <seg>/etc/dbus-1, /usr/include/dbus-1.0, /usr/lib/dbus-1.0,
        /usr/share/dbus-1, /usr/share/doc/dbus-&dbus-version;,
        og /var/lib/dbus</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Korte beskrivelser</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="dbus-cleanup-sockets">
        <term><command>dbus-cleanup-sockets</command></term>
        <listitem>
          <para>brukes til å fjerne gjenværende socket i en mappe</para>
          <indexterm zone="ch-system-dbus dbus-cleanup-sockets">
            <primary sortas="b-dbus-cleanup-sockets">dbus-cleanup-sockets</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-daemon">
        <term><command>dbus-daemon</command></term>
        <listitem>
          <para>Er D-Bus-meldingsbussnisse</para>
          <indexterm zone="ch-system-dbus dbus-daemon">
            <primary sortas="b-dbus-daemon">dbus-daemon</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-launch">
        <term><command>dbus-launch</command></term>
        <listitem>
          <para>Starter <command>dbus-daemon</command> fra et skall
          skript</para>
          <indexterm zone="ch-system-dbus dbus-launch">
            <primary sortas="b-dbus-launch">dbus-launch</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-monitor">
        <term><command>dbus-monitor</command></term>
        <listitem>
          <para>Overvåker meldinger som går gjennom en D-Bus meldingsbuss</para>
          <indexterm zone="ch-system-dbus dbus-monitor">
            <primary sortas="b-dbus-monitor">dbus-monitor</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-run-session">
        <term><command>dbus-run-session</command></term>
        <listitem>
          <para>Starter en øktbussforekomst av <command>dbus-daemon</command>
          fra et skallskript og starter et spesifisert program i den
          økten</para>
          <indexterm zone="ch-system-dbus dbus-run-session">
            <primary sortas="b-dbus-run-session">dbus-run-session</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-send">
        <term><command>dbus-send</command></term>
        <listitem>
          <para>Sender en melding til en D-Bus meldingsbuss</para>
          <indexterm zone="ch-system-dbus dbus-send">
            <primary sortas="b-dbus-send">dbus-send</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-test-tool">
        <term><command>dbus-test-tool</command></term>
        <listitem>
          <para>Er et verktøy for å hjelpe pakker å teste
          <application>D-Bus</application></para>
          <indexterm zone="ch-system-dbus dbus-test-tool">
            <primary sortas="b-dbus-test-tool">dbus-test-tool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <!-- This is a very long command name. Excuse the long <primary> statement below. -->
      <varlistentry id="dbus-update-activation-environment">
        <term><command>dbus-update-activation-environment</command></term>
        <listitem>
          <para>Oppdaterer miljøvariabler som vil bli satt for
          <application>D-Bus</application> økttjenester</para>
          <indexterm zone="ch-system-dbus dbus-update-activation-environment">
            <primary sortas="b-dbus-update-activation-environment">dbus-update-activation-environment</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="dbus-uuidgen">
        <term><command>dbus-uuidgen</command></term>
        <listitem>
          <para>Genererer en universell unik ID</para>
          <indexterm zone="ch-system-dbus dbus-uuidgen">
            <primary sortas="b-dbus-uuidgen">dbus-uuidgen</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libdbus-1">
        <term><filename class="libraryfile">libdbus-1</filename></term>
        <listitem>
          <para>Inneholder API funksjoner som brukes til å kommunisere med meldingsbussen
          til D-bus</para>
          <indexterm zone="ch-system-dbus libdbus-1">
            <primary sortas="c-libdbus-1">libdbus-1</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
