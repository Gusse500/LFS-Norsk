<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-preps-addinguser">
  <?dbhtml filename="addinguser.html"?>

  <title>Legge til LFS brukeren</title>

  <para>Når du er logget inn som bruker <systemitem class="username">root</systemitem>,
  kan det å gjøre en enkelt feil skade eller ødelegge et system. Derfor,
   pakkene i de neste to kapitlene er bygget som en uprivilegert bruker.
   Du kan bruke ditt eget brukernavn, men for å gjøre det enklere å sette opp en ren
   arbeidsmiljø, opprett en ny bruker kalt <systemitem
  class="username">lfs</systemitem> som medlem av en ny gruppe (også kalt
  <systemitem class="groupname">lfs</systemitem>) og bruk denne brukeren under
   installasjonsprosessen. Som <systemitem class="username">root</systemitem>,
  utfør følgende kommandoer for å legge til den nye brukeren:</para>

<screen><userinput>groupadd lfs
useradd -s /bin/bash -g lfs -m -k /dev/null lfs</userinput></screen>

  <variablelist>
    <title>Betydningen av kommandolinjealternativene:</title>

    <varlistentry>
      <term><parameter>-s /bin/bash</parameter></term>
      <listitem>
        <para>Dette gjør <command>bash</command> standard skall for brukeren
        <systemitem class="username">lfs</systemitem>.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><parameter>-g lfs</parameter></term>
      <listitem>
        <para>Dette alternativet legger til bruker <systemitem class="username">lfs</systemitem>
        til gruppe <systemitem class="groupname">lfs</systemitem>.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><parameter>-m</parameter></term>
      <listitem>
        <para>Dette oppretter en hjemmemappe for <systemitem
        class="username">lfs</systemitem>.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><parameter>-k /dev/null</parameter></term>
      <listitem>
        <para>Denne parameteren forhindrer mulig kopiering av filer fra et skjelett
         mappe (standard er <filename class="directory">/etc/skel</filename>)
        ved å endre inndataplasseringen til den spesielle nullenheten.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><parameter>lfs</parameter></term>
      <listitem>
        <para>Dette er det faktiske navnet på den opprettede brukeren.</para>
      </listitem>
    </varlistentry>

  </variablelist>

  <para>For å logge inn som <systemitem class="username">lfs</systemitem> (i motsetning
   til å bytte til bruker <systemitem class="username">lfs</systemitem> når logget
   i som <systemitem class="username">root</systemitem>, som ikke krever
   at <systemitem class="username">lfs</systemitem> bruker å ha et passord),
  gi <systemitem class="username">lfs</systemitem> et passord:</para>

<screen role="nodump"><userinput>passwd lfs</userinput></screen>

  <para>Bevilg <systemitem class="username">lfs</systemitem> full tilgang til
   alle mapper under <filename class="directory">$LFS</filename> ved å gjøre
  <systemitem class="username">lfs</systemitem> eier av mappene:</para>

<screen><userinput>chown -v lfs $LFS/{usr{,/*},lib,var,etc,bin,sbin,tools}
case $(uname -m) in
  x86_64) chown -v lfs $LFS/lib64 ;;
esac</userinput></screen>

  <para>Hvis en egen arbeidsmappe ble opprettet som foreslått, gi
   bruker <systemitem class="username">lfs</systemitem> eierskap til denne
   mappen:</para>

<screen><userinput>chown -v lfs $LFS/sources</userinput></screen>

  <note><para>I noen vertssystemer fullføres ikke følgende kommando
   riktig og suspenderer påloggingen til lfs brukeren til bakgrunnen. Hvis
   ledeteksten "lfs:~$" ikke vises umiddelbart, å skrive inn
  <command>fg</command> kommando vil fikse problemet.</para></note>

  <para>Deretter logger du på som bruker <systemitem class="username">lfs</systemitem>.
  Dette kan gjøres via en virtuell konsoll, gjennom en skjermbehandler eller med
   følgende erstatt/bytt brukerkommando:</para>

<screen role="nodump"><userinput>su - lfs</userinput></screen>

  <para><quote><parameter>-</parameter></quote> instruerer
  <command>su</command> å starte et påloggingsskall i motsetning til et ikke-påloggingsskall.
  Forskjellen mellom disse to skjelltypene finner du i detalj i
  <filename>bash(1)</filename> og <command>info bash</command>.</para>

</sect1>
