+<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="afterlfs">
  <?dbhtml filename="afterlfs.html"?>

  <title>Komme i gang etter LFS</title>

  <sect2>
  <title>Bestemmer hva du skal gj√∏re videre</title>

     <para>
       N√• som LFS er fullf√∏rt og du har et oppstartbart system, hva gj√∏r du?
       Det neste trinnet er √• bestemme hvordan den skal brukes. Generelt er det to
       kategorier √• vurdere: arbeidsstasjon eller server. Faktisk utelukker ikke
       disse kategoriene hverandre. Programmene som trengs for hver kategori
       kan kombineres til et enkelt system, men la oss se p√• dem separat
       for n√•.
     </para>

     <para>
        En server er den enklere kategorien. Vanligvis best√•r dette av en nett
        server som 
        <ulink url="&blfs-book;server/apache.html">Apache HTTP Server</ulink>
        og en databaseserver som f.eks
        <ulink url="&blfs-book;server/mariadb.html">MariaDB</ulink>. 
        Men andre tjenester er mulig. Operativsystemet
        innebygd i en engangsenhet faller inn i denne kategorien.
     </para>

     <para>
        P√• den annen side er en arbeidsstasjon mye mer kompleks. Det krever
        generelt et grafisk brukermilj√∏ som f.eks 
        <ulink url="&blfs-book;lxde/lxde.html">LXDE</ulink>, 
        <ulink url="&blfs-book;xfce/xfce.html">XFCE</ulink>, 
        <ulink url="&blfs-book;kde/kde.html">KDE</ulink>, or 
        <ulink url="&blfs-book;gnome/gnome.html">Gnome</ulink>
        basert p√• et grunnleggende
        <ulink url="&blfs-book;x/installing.html">graphical environment</ulink>
        og flere grafisk baserte applikasjoner som f.eks
        <ulink url="&blfs-book;xsoft/firefox.html">Firefox web browser</ulink>, 
        <ulink url="&blfs-book;xsoft/thunderbird.html">Thunderbird email client</ulink>,
        eller 
        <ulink url="&blfs-book;xsoft/libreoffice.html">LibreOffice office suite</ulink>. 
        Disse applikasjonene krever mange (flere hundre avhengig av
        √∏nskede funksjoner) flere pakker med st√∏tteapplikasjoner og
        biblioteker.
     </para>

     <para>
        I tillegg til ovennevnte er det et sett med applikasjoner for system
         styring for alle typer systemer. Disse applikasjonene er alle i
         BLFS bok. Ikke alle pakker er n¯dvendige i alle milj¯er. For
         eksempel <ulink url="&blfs-book;basicnet/dhcpcd.html">dhcpcd</ulink>, er
         normalt ikke egnet for en server og <ulink
        url="&blfs-book;basicnet/wireless_tools.html">wireless_tools</ulink>,
        er normalt bare nyttige for et bÊrbart system.
     </para>

  </sect2>

  <sect2>
  <title>Arbeid i et grunnleggende BLFS milj√∏</title>

    <para>
      N√•r du starter opp i LFS, har du alle interne verkt√∏y for √• bygge
      tilleggspakker. Dessverre er brukermilj√∏et ganske sparsomt.
      Det er et par m√•ter √• forbedre dette p√•: 
    </para>

  <sect3>
  <title>Arbeid fra LFS verten i chroot</title>

    <para>
      Denne metoden gir et komplett grafisk milj√∏ hvor fulle
      funksjoner for nettleser og kopier/lim inn er tilgjengelige. Denne metoden
      lar deg laste ned applikasjoner som vertens versjon av wget
      pakke kilder til et sted som er tilgjengelig n√•r du arbeider i chroot
      milj√∏et.
    </para>

    <para>
       For √• kunne bygge pakker p√• riktig m√•te i chroot, m√• du ogs√•
       huske √• montere de virtuelle filsystemene hvis de ikke allerede er
       montert. En m√•te √• gj√∏re dette p√• er √• lage et skript p√• 
       <emphasis role="bold">HOST</emphasis> systemet:
    </para>

<screen><command>cat &gt; ~/mount-virt.sh &lt;&lt; "EOF"
#!/bin/bash

function mountbind
{
   if ! mountpoint $LFS/$1 >/dev/null; then
     $SUDO mount --bind /$1 $LFS/$1 
     echo $LFS/$1 mounted
   else
     echo $LFS/$1 already mounted
   fi
}

function mounttype
{
   if ! mountpoint $LFS/$1 >/dev/null; then
     $SUDO mount -t $2 $3 $4 $5 $LFS/$1 
     echo $LFS/$1 mounted
   else
     echo $LFS/$1 already mounted
   fi
}

if [ $EUID -ne 0 ]; then
  SUDO=sudo
else
  SUDO=""
fi

if [ x$LFS == x ]; then
  echo "LFS not set"
  exit 1
fi

mountbind dev 
mounttype dev/pts devpts devpts -o gid=5,mode=620
mounttype proc    proc   proc
mounttype sys     sysfs  sysfs
mounttype run     tmpfs  run
if [ -h $LFS/dev/shm ]; then
  mkdir -pv $LFS/$(readlink $LFS/dev/shm)
else
  mounttype dev/shm tmpfs tmpfs -o nosuid,nodev
fi 

#mountbind usr/src
#mountbind boot
#mountbind home
EOF</command></screen>

    <para>
       Merk at de tre siste kommandoene i skriptet er kommentert ut. Disse
       er nyttige hvis disse katalogene er montert som separate partisjoner p√•
       vertssystemet og vil bli montert ved oppstart av det fullf√∏rte LFS/BLFS systemet. 
    </para>

    <para>
        Skriptet kan kj√∏res med <command>bash ~/mount-virt.sh</command> som
        enten en vanlig bruker (anbefalt) eller som &root;. Hvis du kj√∏rer som vanlig
        bruker, er sudo n√∏dvendig p√• vertssystemet.
    </para>

    <para>
        Et annet problem p√•pekt av skriptet er hvor du skal lagre nedlastede
        pakkefiler. Denne plasseringen er vilk√•rlig. Det kan v√¶re i en vanlig
        brukers hjemmekatalog som ~/sources eller p√• en global plassering som
        /usr/src. V√•r anbefaling er √• ikke blande BLFS kilder og LFS kilder
        (fra chroot-milj√∏et) /sources. I alle fall m√• pakkene
        v√¶re tilgjengelig inne i chroot-milj√∏et.
    </para>

    <para>
        En siste bekvemmelighet som presenteres her er √• str√∏mlinjeforme prosessen
        med √• g√• inn i chroot milj√∏et. Dette kan gj√∏res med et alias
        plassert i brukers ~/.bashrc-fil p√• vertssystemet:
    </para>

<screen><command>alias lfs='sudo /usr/sbin/chroot /mnt/lfs /usr/bin/env -i HOME=/root TERM="$TERM" PS1="\u:\w\\\\$ " 
PATH=/bin:/usr/bin:/sbin:/usr/sbin /bin/bash --login'</command></screen>

     <para>
       Dette aliaset er litt vanskelig p√• grunn av sitering og niv√•er av
       omvendt skr√•strek. Det m√• v√¶re p√• √©n linje. Kommandoen ovenfor
       er delt i to for presentasjonsform√•l.
    </para>

  </sect3>

  <sect3>
  <title>Arbeid eksternt via ssh</title>

    <para>
       Denne metoden gir ogs√• et fullstendig grafisk milj√∏, men f√∏rst
       kreves installasjonen av 
        <ulink url="&blfs-book;postlfs/openssh.html">sshd</ulink> og
        <ulink url="&blfs-book;basicnet/wget.html">wget</ulink> 
       p√• LFS-systemet, vanligvis i chroot. Det krever ogs√• et sekund√¶r
       datamaskin. Denne metoden har fordelen av √• v√¶re enkel ved ikke √• kreve
       kompleksiteten til chroot milj√∏et. Den bruker ogs√• din LFS bygde
       kjerne for alle tilleggspakker og gir fortsatt et komplett system
       for √• installere pakker. 
    </para>

  </sect3>

  <sect3>
  <title>Arbeid fra LFS kommandolinjen</title>

    <para>
       Denne metoden krever installasjon av 
        <ulink url="&blfs-book;general/libtasn1.html">libtasn1</ulink>,
        <ulink url="&blfs-book;postlfs/p11-kit.html">p11-kit</ulink>,
		<ulink url="&blfs-book;postlfs/make-ca.html">make-ca</ulink>,
        <ulink url="&blfs-book;basicnet/wget.html">wget</ulink>, 
        <ulink url="&blfs-book;general/gpm.html">gpm</ulink>, og
        <ulink url="&blfs-book;basicnet/links.html">links</ulink>
		(or <ulink url="&blfs-book;basicnet/lynx.html">lynx</ulink>)
       i chroot og deretter omstart inn i det nye LFS systemet. P√• dette
       punktet har standardsystemet seks virtuelle konsoller. Veksling mellom
       konsoller er like enkelt som Â bruke
       <keycombo>
         <keycap>Alt</keycap>
         <keycap>Fx</keycap>
       </keycombo>
       tastekombinasjoner hvor <keycap>Fx</keycap> er
       mellom <keycap>F1</keycap> og <keycap>F6</keycap>.
       <keycombo>
         <keycap>Alt</keycap>
         <keycap function='left'/>
       </keycombo>
       og
       <keycombo>
         <keycap>Alt</keycap>
         <keycap function='right'/>
       </keycombo>
       kombinasjoner vil ogs√• endre konsollen.
     </para>
     
     <para>
       P√• dette tidspunktet kan du logge p√• to forskjellige virtuelle konsoller og kj√∏re
       links eller lynx nettleser i den ene konsollen og bash i den andre. GPM
        tillater deretter kopiering av kommandoer fra nettleseren med venstre
        museknapp, bytte konsoller, og lime inn i den andre konsollen.
      </para>

      <note>
        <para>
          Som en sidenotat kan byttet av virtuelle konsoller ogs√• gj√∏res fra
          en X Window forekomst med
          <keycombo>
            <keycap>Ctrl</keycap>
            <keycap>Alt</keycap>
            <keycap>Fx</keycap>
          </keycombo>
          tastekombinasjon, men kopieringsoperasjonen med mus fungerer ikke
          mellom det grafiske grensesnittet og en virtuell konsoll. Du kan
          gÂ tilbake til X Window skjermen med
          <keycombo>
            <keycap>Ctrl</keycap>
            <keycap>Alt</keycap>
            <keycap>Fx</keycap>
          </keycombo>
          kombinasjon, hvor <keycap>Fx</keycap> vanligvis er 
          <keycap>F1</keycap> men kan vÊre <keycap>F7</keycap>.
        </para>
      </note>

  </sect3>

  </sect2>


</sect1>